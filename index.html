<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Medicare</title>

    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap-grid.css" />
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap-grid.min.css"/>
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap-reboot.css" />
    <link rel="stylesheet" href="css/site.css" />
    <link rel="stylesheet" href="css/mystyles.css" />
    <link rel="stylesheet" href="lib/jquery-ui-1.12.1/jquery-ui.min.css" />

    <script src="lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="lib/jquery-ui-1.12.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/site.js"></script>
    <script type="text/javascript" src="assets/drgdictionary.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBc1vPoevpvv97bKsD15pg6CG_t_7dMiL4&libraries=places&callback=initMap"></script>

    <script type="text/javascript">
      // source: https://stackoverflow.com/a/13529817 - Author: https://stackoverflow.com/users/1847619/aysegul
      function initialize() {
        var input = document.getElementById("LocEntry");
        var options = {
          componentRestrictions: { country: "us" }
        };
        var autocomplete = new google.maps.places.Autocomplete(input, options);
        google.maps.event.addListener(
          autocomplete,
          "place_changed",
          function() {
            var place = autocomplete.getPlace();
            // document.getElementById('city2').value = place.name;
            document.getElementById(
              "lat"
            ).value = place.geometry.location.lat();
            document.getElementById(
              "lon"
            ).value = place.geometry.location.lng();
          }
        );
      }
      google.maps.event.addDomListener(window, "load", initialize);
      function getLocation() 
      {
            if (navigator.geolocation) 
            {
                navigator.geolocation.getCurrentPosition(setCoords);
            } 
            else { 
                alert("Unable to obtain current location.");
            }
        }

        function setCoords(position) {
            document.getElementById("lat").value = position.coords.latitude;
            document.getElementById("lon").value = position.coords.longitude;
            document.getElementById("loc").innerHTML = position.coords.latitude + ", " + position.coords.longitude;
            document.getElementById("LocEntry") = position.coords.latitude + ", " + position.coords.longitude;
      }
    </script>

    <!--Smooth Scrolling Reference - https://github.com/cferdinandi/smooth-scroll!-->
    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
    <script>
      var scroll = new SmoothScroll('a[href*="#"]');
    </script>
  </head>

  <body style="background-color: rgb(0,0,0);">
    <script src="js/cookies.js"> </script>
    <div>
      <div
        class="header-blue"
        style='background-image: url("assets/img/bg-img.png");background-repeat: no-repeat;background-size: cover;height: 100vh; padding: 4vh; padding-top: 0; padding-bottom: 0;'
      >
        <nav
          class="navbar navbar-light navbar-expand-md navigation-clean-search"
          style="color: white;padding: 4vh;padding-top: 3vh;"
        >
          <div class="container-fluid">
            <a
              class="navbar-brand"
              href="#"
              style="        margin: 0;
            color: white;
            text-decoration: none;
            font-size: 4vh;
            font-weight: bold;"
              >Team10</a
            ><a
              class="navbar-brand"
              href="about-us.html"
              style="margin: 0;color: white;text-decoration: none;font-size: 3vh;/*font-weight: bold;*/"
              >About Us</a
            >
          </div>
        </nav>
        <h1
          style="font-size: 4vh;text-align: center;font-weight: bold;color: rgb(255,255,255); vertical-align: middle;margin: 0;padding: 2vh;"
        >
          We'll help you find medicare that suits your needs. Let's Start!
        </h1>
        <div
          style="width: 100%;height: auto;padding: 6vh;background-color: #ffffff;border-radius: 2em;padding-top: 4vh; padding-right: 6vh;padding-bottom: 3vh;padding-left: 6vh; opacity: 0.9;"
        >
          <form
            method="GET"
            action="Results.html"
            style="width: 100%;"
            onkeydown="return event.key != 'Enter';"
            id="target";
          >
          <script>
            $( "#target" ).submit(function( event ) {
              var drgidCheck = document.getElementById("drgid-input").value;
              var drgidInt = Number(drgidCheck);
              if (drgidCheck.length != 3)
              {
                alert( "Please enter a valid 3-Digit DRG ID" );
              }
              else if ((drgidInt < 1) || (drgidInt >989)) {
                alert("DRG ID not found.");
              }
              else {
                return;
              }
              event.preventDefault();
            });
          </script>
            <div
              class="form-row"
              style="width: 100%;height: 4vh;margin-top: 2vh;"
            >
              <div class="col" style="width: 25%;padding: 0;height: 4vh;">
                <h1
                  style="font-size: 4vh;margin-bottom: 0;height: auto;width: 100%;padding: 0;"
                >
                  Enter DRG
                </h1>
              </div>
              <div class="col-xl-9" style="width: 75%;padding: 0;height: 4vh;">
                <h1
                  style="font-size: 4vh;color: rgb(33,37,41);width: 100%;height: 4vh;padding: 0;margin: 0;"
                >
                  Procedure
                </h1>
              </div>
            </div>

            <div class="form-row" style="width: 100%;height: auto;">
              <div class="col" style="width: 25%;padding: 1vh;padding-left: 0;">
                <input
                  class="form-control"
                  id="drgid-input"
                  name="drgid"
                  type="text"
                  style="width: 100%;font-size: 4vh;"
                  placeholder="Enter 3 Digits"
                  onfocus="this.value=''"
                  required
                />
              </div>
              <div
                class="col-xl-9"
                style="width: 75%;padding: 1vh;padding-left: 0;"
              >
                <input
                  class="form-control ui-autocomplete"
                  id="drgdef-input"
                  type="text"
                  style="width: 100%;height: auto;font-size: 4vh;"
                  placeholder="Enter a Procedure"
                />
              </div>
            </div>

            <div
              class="form-row"
              style="margin-top: 3vh;width: 100%;height: 4vh;margin-left: 0;margin-right: 0;"
            >
              <div class="col" style="height: 4vh;padding: 0;">
                <h1 style="font-size: 4vh;margin: 0;height: 4vh;">Near</h1>
              </div>
            </div>
            <div
              class="form-row"
              style="width: 100%;padding: 0;height: auto;margin: 0;"
            >
              <div class="col" style="width: 25%;padding: 1vh;padding-left: 0;">
                <input
                  id="LocEntry"
                  class="form-control"
                  type="text"
                  style="width: 100%;font-size: 4vh;"
                />
                <input
                  id="lat"
                  name="lat"
                  class="form-control"
                  type="hidden"
                  required
                />
                <input
                  id="lon"
                  name="lon"
                  class="form-control"
                  type="hidden"
                  required
                />
              </div>

              <div
                class="col-xl-4"
                style="width: 25%;padding: 1vh;padding-left: 0;"
              >
                <button
                  class="btn btn-primary"
                  type="button"
                  id="loc"
                  style="height: 100%;font-size: 3vh;width: 100%;background-color: rgba(41,41,41,0.8);"
                  onclick="getLocation()"
                >
                  Get Current Location
                </button>
              </div>
            </div>
            <div
              class="form-row"
              style="margin-top: 3vh;width: 100%;margin-right: 0;"
            >
              <div class="col" style="width: 100%;padding: 0;height: auto;">
                <h1
                  style="font-size: 3vh;text-align: center;font-weight: bold;color: rgb(0,0,0);height: 100%;vertical-align: middle;margin: 0;"
                >
                  Optional Filters
                </h1>
              </div>
            </div>
            <div
              class="form-row"
              style="margin-top: 2vh;width: 100%;margin-left: 0;margin-right: 0;"
            >
              <div class="col" style="padding: 0; max-width: 100%">
                <h1
                  style="font-size: 2vh;margin: 0; width: 100%; text-align: center"
                >
                  Within a specific range of
                </h1>
              </div>
            </div>
            <div
              class="form-row"
              style="margin-top: 1vh;width: 100%;margin-left: 0;margin-right: 0;"
            >
              <div
                class="col"
                style="padding:0; max-width:20%; margin: auto; text-align: center"
              >
                <select
                  class="dropdown"
                  name="maxDist"
                  style="width: 100%; font-size: 2vh; align: center"
                >
                  <option value="5000">Only Show Nearby Results</option>
                  <option value="500">500 metres</option>
                  <option value="1000">1 kilometres</option>
                  <option value="2000">2 kilometres</option>
                  <option value="5000">5 kilometres</option>
                  <option value="10000">10 kilometres</option>
                  <option value="25000">25 kilometres</option>
                  <option value="50000">50 kilometres</option>
                  <option value="100000">100 kilometres</option>
                  <option value="1000000">1000 kilometres</option>
                </select>
              </div>
            </div>

            <div
              class="form-row"
              style="margin-top: 2vh;width: 100%;margin-left: 0;margin-right: 0;"
            >
              <div class="col" style="padding: 0; max-width: 100%;">
                <h1
                  style="font-size: 2vh;margin: auto; width: 100%; text-align: center"
                >
                  and/or with a price range of
                </h1>
              </div>
            </div>

            <div class="form-row" style="margin-top: 1vh; width: 100%">
              <div class="col" style="padding:0; width:100%; margin:auto">
                <div
                  id="slider-container"
                  style="margin:auto; width: 100%;"
                ></div>
                <div id="slider-range" style="margin: auto; width: 75%;"></div>
              </div>
            </div>

            <div
              class="form-row"
              style="margin-top: 2vh;width: 100%;margin-left: 0;margin-right: 0;"
            >
              <div
                class="col"
                style="padding:0; width:75%; margin: auto; text-align: center; font-size: 2vh; font-weight: 500"
              >
                <input
                  type="number"
                  min="2000"
                  max="549999"
                  class="input-price"
                  id="lowerPrice"
                  name="lowerPrice"
                  style="margin: auto"
                />
                to
                <input
                  type="number"
                  min="2001"
                  max="550000"
                  class="input-price"
                  id="upperPrice"
                  name="upperPrice"
                  style="margin: auto"
                />
                dollars
              </div>
            </div>

            <div
              class="form-row"
              style="width: 100%;padding: 0;height: auto;margin: 0; margin-top: 2vh"
            >
              <div class="col" style="height: auto;">
                <button
                  class="btn btn-primary"
                  type="submit"
                  style="height: 100%;font-size: 4vh;width: 100%;background-color: rgb(0,0,0);"
                >
                  Search
                </button>
              </div>
            </div>
            
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
